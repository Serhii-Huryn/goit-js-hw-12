import{S as $,i as d,a as H}from"./assets/vendor-BDaiwwc1.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();const T=document.querySelector(".gallery");function k(c){const r=[];for(const e of c){const a=document.createElement("li");a.classList.add("gallery-item");const t=document.createElement("a");t.classList.add("gallery-link"),t.href=e.largeImageURL;const s=document.createElement("img");s.classList.add("gallery-image"),s.setAttribute("src",e.webformatURL),s.setAttribute("alt",e.tags);const i=document.createElement("div");i.classList.add("gallery-descr-container");const S=document.createElement("div"),x=document.createElement("div"),q=document.createElement("div"),M=document.createElement("div"),p=document.createElement("p"),f=document.createElement("p"),L=document.createElement("p"),v=document.createElement("p"),w=document.createElement("p"),b=document.createElement("p"),C=document.createElement("p"),E=document.createElement("p");p.classList.add("gallery-descr"),f.classList.add("gallery-descr"),L.classList.add("gallery-descr"),v.classList.add("gallery-descr"),w.classList.add("gallery-descr"),b.classList.add("gallery-descr"),C.classList.add("gallery-descr"),E.classList.add("gallery-descr"),p.textContent="Likes",w.textContent=`${e.likes}`,f.textContent="Views",b.textContent=`${e.views}`,L.textContent="Comments",C.textContent=`${e.comments}`,v.textContent="Downloads",E.textContent=`${e.downloads}`,t.append(s),S.append(p,w),x.append(f,b),q.append(L,C),M.append(v,E),i.append(S,x,q,M),t.append(i),a.append(t),r.push(a)}T.append(...r),new $(".gallery a",{captionDelay:250,captionsData:"alt"})}const P=document.querySelector("#search-field"),n=document.querySelector(".loading"),h=document.querySelector(".gallery"),l=document.querySelector(".load-more");let g="",u=[],o=1,y=15,m;const F=async c=>{try{const r=await H(c);return r||d.show({message:error.message+" error 1",backgroundColor:"red"}),r.data}catch(r){return r}};async function O(c){if(c.preventDefault(),o=1,n.classList.add("visually-hidden"),g=P.value.trim(),P.value="",!g)return;const e=`https://pixabay.com/api/?${new URLSearchParams({key:"47410848-ca90cbe53fb16c342854d4794",q:g,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:y,page:o})}`;n.classList.remove("visually-hidden"),h.innerHTML="",F(e).then(a=>{if(a.message&&a.message.toLowerCase().includes("error"))throw new Error(a.message);if(a.statusText)throw new Error(a.status);return a}).then(a=>{if(m=Math.ceil(a.totalHits/y),u=a.hits,!u.length){d.show({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"#FFA000"}),h.innerHTML="",n.classList.add("visually-hidden"),l.classList.add("visually-hidden");return}o>=m&&(d.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#0099FF"}),n.classList.add("visually-hidden"),l.classList.add("visually-hidden"),o=1),k(u),n.classList.add("visually-hidden"),o<m&&l.classList.remove("visually-hidden")}).catch(a=>{d.show({message:a.message+" error 2",backgroundColor:"red"}),h.innerHTML="",n.classList.add("visually-hidden"),l.classList.add("visually-hidden")})}async function A(){o++,n.classList.remove("visually-hidden"),o<m&&l.classList.remove("visually-hidden");const r=`https://pixabay.com/api/?${new URLSearchParams({key:"47410848-ca90cbe53fb16c342854d4794",q:g,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:y,page:o})}`;F(r).then(e=>{if(e.message&&e.message.toLowerCase().includes("error"))throw new Error(e.message);if(e.statusText)throw new Error(e.status);return e}).then(e=>{if(m=Math.ceil(e.totalHits/y),u=e.hits,!u.length){d.show({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"#FFA000"}),n.classList.add("visually-hidden"),l.classList.add("visually-hidden");return}o>=m&&(d.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#0099FF"}),n.classList.add("visually-hidden"),l.classList.add("visually-hidden"),o=1),k(u),n.classList.add("visually-hidden");const a=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:a*2+24,behavior:"smooth"})}).catch(e=>{d.show({message:e.message+" error 3",backgroundColor:"red"}),n.classList.add("visually-hidden"),h.innerHTML=""})}const R=document.querySelector(".form"),_=document.querySelector(".load-more");R.addEventListener("submit",O,event);_.addEventListener("click",A);
//# sourceMappingURL=index.js.map
